---
import { getCollection } from 'astro:content';
import Layout from '~/layouts/Layout.astro';
import CourseCard from '~/components/CourseCard.astro';
import Grid from '~/components/Grid.astro';
import Panel from '~/components/Panel.astro';
import Prose from '~/components/Prose.astro';

const courses = await getCollection('courses');
courses.sort((a, b) => a.data.title.localeCompare(b.data.title));
---

<Layout title="Melbourne Disc Golf Courses" subtitle="Discover amazing disc golf courses across Melbourne">
	<Grid cols={3}>
		{courses.map((course) => (
			<CourseCard
				name={course.data.title}
				href={`/courses/${course.slug}`}
				location={course.data.suburb}
				image={course.data.thumbnail || course.data.mainImage}
			/>
		))}
	</Grid>

	<Prose class="text-center">
		<h2>Further afield</h2>
	</Prose>

	<Grid cols={2}>
		<Panel class="bg-gray-50 prose text-center mt-0">
			<h3>Victoria & Australia</h3>
			<p>
				Visit <a href="https://flyspot.com.au" target="_blank"><b>flyspot.com.au</b></a>
				for comprehensive information about disc golf courses across the country.
			</p>
		</Panel>

		<Panel class="bg-gray-50 prose text-center mt-0">
			<h3>Worldwide</h3>
			<p>
				<a href="https://udisc.com" target="_blank"><b>UDisc</b></a> is a great place
				to find information about disc golf courses around the world.
			</p>
		</Panel>
	</Grid>

</Layout>
